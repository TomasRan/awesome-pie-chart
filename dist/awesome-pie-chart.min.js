/* awesome-pie-chart 11-04-2016 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):void 0!==typeof module&&module.exports?module.exports=b(require("jquery")):a.PieChart=b(a.jQuery)}(window||{},function(a){function b(b){this.args=b,this.args.graph=a.extend({strokeWidth:b.strokeWidth||1,space:0,outsideR:0,insideR:0,rotation:0,slices:[]},b.graph),a.each(this.args.graph.slices,function(a,b){b.angle=360*(b.percent||0)})}function c(b,c){return a(document.createElement("li")).attr({"class":b.className||"","data-name":b.name}).css({cursor:c?"pointer":"auto",overflow:"hidden",background:b.background||"transparent",position:"relative"}).on("click",function(){c?c(b.name):null}).html(b.content)}function d(b){if(b){var d=a(document.createElement("ul")).attr({"class":b.className||""}).css({padding:0,margin:0,overflow:"hidden"});return a.each(b.items,function(a,e){c(e,b.callback).appendTo(d)}),d}}function e(c){b.call(this,c),this.graphEngine="svg";var e=this;this.getNode=function(){var b=i[e.graphEngine].getGraph(e.args.graph),c=d(e.args.description),f=[];switch(e.args.relativePos){case"left":b.css({"float":"left"}),c.css({"float":"right"}),f.push(b,c);break;case"right":b.css({"float":"right"}),c.css({"float":"left"}),f.push(c,b);break;case"top":f.push(b,c);break;case"bottom":f.push(c,b)}return e.el=a(document.createElement("div")).attr({"class":e.args.className}).css({background:e.args.background,display:"inline-block"}).append(f),e.el}}var f=function(a){var b=["E32322","EA621F","F18E1C","FDC60B","F4E500","8CBB26","008E5B","0696BB","2A71B0","444E99","6D398B","C4037D"];return"#"+b[a%b.length]},g=function(b,c,d,e){b.on(c,function(b){var b=b||window.event,c=b.target||event.srcElement;if(c.nodeName.toUpperCase()===d.toUpperCase()){var f=a(c).attr("data-name");f&&(e?e(f):null)}})},h=function(a){return{sin:Math.sin(a),cos:Math.cos(a),tan:Math.tan(a)}},i={svg:{createElement:function(b){return a(document.createElementNS("http://www.w3.org/2000/svg",b))},getSectionalPath:function(a,b,c,d){var e=a*Math.PI/180,f=b*Math.PI/180,g=h(e),i=h(f);return["M",c*g.cos,c*g.sin,"A",c,c,0,Math.abs(f-e)>Math.PI?1:0,1,c*i.cos,c*i.sin,"L",d*i.cos,d*i.sin,"A",d,d,0,Math.abs(f-e)>Math.PI?1:0,0,d*g.cos,d*g.sin,"Z"].join(" ")},getGraph:function(b){var c=a(document.createElement("div")).attr({"class":b.className||""}).css({position:"relative",width:2*b.outsideR});if(b.title){var d=2*Math.sqrt(Math.pow(b.insideR,2)/2),e=d;a(document.createElement("p")).css({margin:0,width:d+"px",height:e+"px",position:"absolute","margin-left":-(d/2)+"px","margin-top":-(e/2)+"px","line-height":e+"px",left:"50%",top:"50%","text-align":"center"}).html(b.title).appendTo(c)}var h=i.svg.createElement("svg").css({width:2*b.outsideR+"px",height:2*b.outsideR+"px"}).appendTo(c),j="translate("+b.outsideR+","+b.outsideR+") rotate("+b.rotation+") scale("+(b.flipY?"-1":"1")+","+(b.flipX?"-1":"1")+")",k=i.svg.createElement("g").attr({transform:j}).appendTo(h);if(b.slices&&0===b.slices.length)i.svg.createElement("path").attr({d:i.svg.getSectionalPath(0,360,b.insideR,b.outsideR)}).css({fill:"#d9d9d9"}).appendTo(k);else{var l=0;a.each(b.slices,function(a,c){var d=0===c.angle?l:360===c.angle?360:l+c.angle-b.space;i.svg.createElement("path").attr({d:i.svg.getSectionalPath(l,d,b.insideR,b.outsideR),"data-name":c.name,"data-angle":c.angle}).css({fill:c.color||f(a),stroke:b.strokeColor||c.color||f(a),strokeWidth:b.strokeColor?b.strokeWidth:0,cursor:b.clickCallback?"pointer":"auto"}).appendTo(k),l+=c.angle})}return b.clickCallback?g(h,"click","PATH",b.clickCallback):null,b.mouseOverCallback?g(h,"mouseover","PATH",b.mouseOverCallback):null,b.mouseOutCallback?g(h,"mouseout","PATH",b.mouseOutCallback):null,c}}};return e.prototype={constructor:e,fresh:function(b){if(!b)return null;var d=this,e=d.args.graph,g=d.args.description,h=d.el.find("path"),j=d.el.find("li"),k={},l={};b.title?a(d.el.find("p")).html(b.title):null,a.each(b.slices,function(a,b){k[b.name]={angle:360*b.percent,color:b.color}});var m=0;a.each(h,function(b,c){var d=a(c).attr("data-name");if(d){var f=void 0===k[d]?parseFloat(a(c).attr("angle")):k[d].angle,g=0===f?m:360===f?360:m+f-e.space;a(c).attr({d:i.svg.getSectionalPath(m,g,e.insideR,e.outsideR),"data-angle":f}),m+=f,delete k[d]}else a(c).remove()});var n=0;for(var o in k)if(k.hasOwnProperty(o)){var p=m+k[o].angle;i.svg.createElement("path").attr({d:i.svg.getSectionalPath(m,p,e.insideR,e.outsideR),"data-name":o,"data-angle":k[o].angle}).css({fill:k[o].color||f(n),stroke:e.strokeColor||k[o].color||f(n),stokeWidth:e.strokeColor?e.strokeWidth:0,cursor:e.clickCallback?"pointer":"auto"}).appendTo(d.el.find("g")),m+=k[o].angle,n++}a.each(b.items,function(a,b){l[b.name]={name:b.name,className:b.className,background:b.background,content:b.content}}),a.each(j,function(b,c){var d=a(c).attr("data-name");l[d]&&(l[d].content?a(c).html(l[d].content):null,l[d].background?a(c).css("background",l[d].background):null,l[d].className?a(c).attr("class",l[d].className):null,delete l[d])});for(var o in l)l.hasOwnProperty(o)&&c(l[o],g.callback).appendTo(d.el.find("ul"))}},e});