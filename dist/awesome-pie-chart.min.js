/* awesome-pie-chart 11-04-2016 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):void 0!==typeof module&&module.exports?module.exports=b(require("jquery")):a.PieChart=b(a.jQuery)}(window||{},function(a){function b(b){this.args=b,this.args.graph=a.extend({strokeWidth:b.strokeWidth||1,space:0,outsideR:0,insideR:0,rotation:0,slices:[]},b.graph),a.each(this.args.graph.slices,function(a,b){b.angle=360*(b.percent||0)})}function c(b,c){return a(document.createElement("li")).attr({"class":b.className||"","data-name":b.name}).css({cursor:c?"pointer":"auto",overflow:"hidden",background:b.background||"transparent",position:"relative"}).on("click",function(){return c?c(b.name):void 0}).html(b.content)}function d(b){if(b){var d=a(document.createElement("ul")).attr({"class":b.className||""}).css({padding:0,margin:0,overflow:"hidden"});return a.each(b.items,function(a,e){c(e,b.callback).appendTo(d)}),d}}function e(c){b.call(this,c),this.graphEngine="svg";var e=this;this.getNode=function(){var b=i[e.graphEngine].getGraph(e.args.graph),c=d(e.args.description),f=[];switch(e.args.relativePos){case"left":b.css({"float":"left"}),c.css({"float":"right"}),f.push(b,c);break;case"right":b.css({"float":"right"}),c.css({"float":"left"}),f.push(c,b);break;case"top":f.push(b,c);break;case"bottom":f.push(c,b)}return e.el=a(document.createElement("div")).attr({"class":e.args.className}).css({background:e.args.background,display:"inline-block"}).append(f),e.el}}var f=function(a){var b=["E32322","EA621F","F18E1C","FDC60B","F4E500","8CBB26","008E5B","0696BB","2A71B0","444E99","6D398B","C4037D"];return"#"+b[a%b.length]},g=function(b,c,d,e){b.on(c,function(b){b=b||window.event;var c=b.target||event.srcElement;if(c.nodeName.toUpperCase()===d.toUpperCase()){var f=a(c).attr("data-name");if(f&&e)return e(f)}})},h=function(a){return{sin:Math.sin(a),cos:Math.cos(a),tan:Math.tan(a)}},i={svg:{createElement:function(b){return a(document.createElementNS("http://www.w3.org/2000/svg",b))},getSectionalPath:function(a,b,c,d){var e=a*Math.PI/180,f=b*Math.PI/180,g=h(e),i=h(f);return["M",c*g.cos,c*g.sin,"A",c,c,0,Math.abs(f-e)>Math.PI?1:0,1,c*i.cos,c*i.sin,"L",d*i.cos,d*i.sin,"A",d,d,0,Math.abs(f-e)>Math.PI?1:0,0,d*g.cos,d*g.sin,"Z"].join(" ")},constructTitle:function(b,c,d){return a(document.createElement("p")).css({margin:0,width:b+"px",height:c+"px",position:"absolute","margin-left":-(b/2)+"px","margin-top":-(c/2)+"px","line-height":c+"px",left:"50%",top:"50%","text-align":"center"}).html(d)},constructSvg:function(b){var c=this.createElement("svg").css({width:2*b.outsideR+"px",height:2*b.outsideR+"px"}),d=this.createElement("g").attr({transform:"translate("+b.outsideR+","+b.outsideR+") rotate("+b.rotation+") scale("+(b.flipY?"-1":"1")+","+(b.flipX?"-1":"1")+")"}).appendTo(c);if(b.slices&&0===b.slices.length)this.createElement("path").attr({d:this.getSectionalPath(0,360,b.insideR,b.outsideR)}).css({fill:"#d9d9d9"}).appendTo(d);else{var e=0;a.each(b.slices,function(a,c){var g=0===c.angle?e:360===c.angle?360:e+c.angle-b.space;i.svg.createElement("path").attr({d:i.svg.getSectionalPath(e,g,b.insideR,b.outsideR),"data-name":c.name,"data-angle":c.angle}).css({fill:c.color||f(a),stroke:b.strokeColor||c.color||f(a),strokeWidth:b.strokeColor?b.strokeWidth:0,cursor:b.clickCallback?"pointer":"auto"}).appendTo(d),e+=c.angle})}return b.clickCallback&&g(c,"click","PATH",b.clickCallback),b.mouseOverCallback&&g(c,"mouseover","PATH",b.mouseOverCallback),b.mouseOutCallback&&g(c,"mouseout","PATH",b.mouseOutCallback),c},getGraph:function(b){var c=a(document.createElement("div")).attr({"class":b.className||""}).css({position:"relative",width:2*b.outsideR});if(b.title){var d=2*Math.sqrt(Math.pow(b.insideR,2)/2),e=d;this.constructTitle(d,e,b.title).appendTo(c)}return this.constructSvg(b).appendTo(c),c}}};return e.prototype={constructor:e,freshTitle:function(b){a(this.el.find("p")).html(b)},freshGraph:function(b){var c=this,d=c.el.find("path"),e=c.args.graph,g={};a.each(b,function(a,b){g[b.name]={angle:360*b.percent,color:b.color}});var h=0;a.each(d,function(b,c){var d=a(c).attr("data-name");if(d){var f=void 0===g[d]?parseFloat(a(c).attr("angle")):g[d].angle,j=0===f?h:360===f?360:h+f-e.space;a(c).attr({d:i.svg.getSectionalPath(h,j,e.insideR,e.outsideR),"data-angle":f}),h+=f,delete g[d]}else a(c).remove()});var j=0;for(var k in g)if(g.hasOwnProperty(k)){var l=h+g[k].angle;i.svg.createElement("path").attr({d:i.svg.getSectionalPath(h,l,e.insideR,e.outsideR),"data-name":k,"data-angle":g[k].angle}).css({fill:g[k].color||f(j),stroke:e.strokeColor||g[k].color||f(j),stokeWidth:e.strokeColor?e.strokeWidth:0,cursor:e.clickCallback?"pointer":"auto"}).appendTo(c.el.find("g")),h+=g[k].angle,j++}},freshDesc:function(b){var d=this,e=d.args.description,f=d.el.find("li"),g={};a.each(b,function(a,b){g[b.name]={name:b.name,className:b.className,background:b.background,content:b.content}}),a.each(f,function(b,c){var d=a(c).attr("data-name");g[d]&&(g[d].content&&a(c).html(g[d].content),g[d].background&&a(c).css("background",g[d].background),g[d].className&&a(c).attr("class",g[d].className),delete g[d])});for(var h in g)g.hasOwnProperty(h)&&c(g[h],e.callback).appendTo(d.el.find("ul"))},fresh:function(a){if(a){a.title&&this.freshTitle(a.title),a.slices&&this.freshGraph(a.slices),a.items&&this.freshDesc(a.items)}}},e});